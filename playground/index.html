<!DOCTYPE html>
<html>
<head>
    <title>Maker.js Playground</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">

    <!--

    *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    *****************************************************************************

    https://github.com/Microsoft/maker.js

    -->

    <link href="../external/codemirror/lib/codemirror.css" rel="stylesheet" />
    <link href="../external/codemirror/theme/twilight.css" rel="stylesheet" />
    <link href="playground.css" rel="stylesheet" />
    <script src="../external/pep/pep.js"></script>
    <script src="../external/marked/marked.js"></script>
    <script src="../external/codemirror/lib/codemirror.js"></script>
    <script src="../external/codemirror/mode/javascript/javascript.js"></script>

    <script>
        //pretend we are in node
        var module = {};

        function require(id) {
            return window[id];
        }
    </script>

    <script src="../external/bezier-js/bezier.js"></script>
    <script>
        window['bezier-js'] = BezierJs.Bezier;
    </script>

    <script src="../node_modules/clone/clone.js"></script>
    <script src="../src/core/maker.js"></script>
    <script src="../src/core/angle.js"></script>
    <script src="../src/core/point.js"></script>
    <script src="../src/core/units.js"></script>
    <script src="../src/core/equal.js"></script>
    <script src="../src/core/bezier.js"></script>
    <script src="../src/core/measure.js"></script>
    <script src="../src/core/path.js"></script>
    <script src="../src/core/break.js"></script>
    <script src="../src/core/paths.js"></script>
    <script src="../src/core/model.js"></script>
    <script src="../src/core/combine.js"></script>
    <script src="../src/core/collect.js"></script>
    <script src="../src/core/simplify.js"></script>
    <script src="../src/core/chain.js"></script>
    <script src="../src/core/loops.js"></script>
    <script src="../src/core/expand.js"></script>
    <script src="../src/core/kit.js"></script>
    <script src="../src/core/exporter.js"></script>
    <script src="../src/core/dxf.js"></script>
    <script src="../src/core/xml.js"></script>
    <script src="../src/core/svg.js"></script>
    <script src="../src/core/pdf.js"></script>
    <script src="../src/core/openjscad.js"></script>
    <script src="../src/core/solvers.js"></script>
    <script src="../src/core/fillet.js"></script>
    <script src="../src/core/intersect.js"></script>
    <script src="../src/models/BoltCircle.js"></script>
    <script src="../src/models/BoltRectangle.js"></script>
    <script src="../src/models/Dome.js"></script>
    <script src="../src/models/Ellipse.js"></script>
    <script src="../src/models/RoundRectangle.js"></script>
    <script src="../src/models/Oval.js"></script>
    <script src="../src/models/OvalArc.js"></script>
    <script src="../src/models/ConnectTheDots.js"></script>
    <script src="../src/models/Rectangle.js"></script>
    <script src="../src/models/Ring.js"></script>
    <script src="../src/models/Polygon.js"></script>
    <script src="../src/models/Square.js"></script>
    <script src="../src/models/Slot.js"></script>
    <script src="../src/models/SCurve.js"></script>
    <script src="../src/models/Star.js"></script>

    <script>
        //pretend it's been required
        var makerjs = MakerJs;
    </script>

    <script src="iexport.js"></script>
    <script src="pointer.js"></script>
    <script src="playground.js"></script>
    <script>
        //config
        MakerJsPlayground.relativePath = '../examples/';
    </script>

</head>
<body class="no-notes collapse-annotation">
    <a name="top"></a>

    <main>
        <header class="logo">
            <a href="http://microsoft.github.io/maker.js/"><img src="m.png" /><h1>Maker.js</h1></a>

            <div id="rendering-options-top">
                <button onclick="MakerJsPlayground.toggleClassAndResize('collapse-rendering-options');">customize <span class="icon dropup">&#x25B4;</span><span class="icon dropdown">&#x25BE;</span></button>
            </div>
        </header>

        <section id="blueprint-canvas">
            <div id="view-params">
                <div id="view" touch-action="none" class="noselect">
                    <div id="view-svg-container"></div>
                    <svg id="pointers" xmlns="http://www.w3.org/2000/svg"></svg>
                    <div id="touch-shield"></div>
                </div>
                <div id="rendering-options-menu" class="noselect">
                    <div id="params"></div>
                    <div class="view-controls">
                        <div>
                            <hr />
                        </div>
                        <div><label><input id="check-fit-on-screen" type="checkbox" checked onclick="if (this.checked) { MakerJsPlayground.fitOnScreen(); } else { MakerJsPlayground.fitNatural(); } MakerJsPlayground.render();" /> fit on screen <span id="zoom-display"></span></label></div>
                        <div><label><input id="check-show-origin" type="checkbox" checked onclick="MakerJsPlayground.toggleClass('collapse-origin')" /> show origin</label></div>
                        <div><label><input id="check-annotate" type="checkbox" onclick="MakerJsPlayground.toggleClass('collapse-annotation')" /> show path names</label></div>
                        <div id="notes-toggle"><label><input id="check-notes" type="checkbox" checked onclick="MakerJsPlayground.toggleClass('collapse-notes')" /> show notes</label></div>
                    </div>
                </div>
            </div>
            <div id="notes"></div>
        </section>

        <section id="download">

            <div id="download-select">
                <h2>Choose a file format to download your customized drawing</h2>

                <button href="#" onclick="MakerJsPlayground.downloadClick(this, MakerJsPlaygroundExport.ExportFormat.Dxf);">.dxf</button>
                <button href="#" onclick="MakerJsPlayground.downloadClick(this, MakerJsPlaygroundExport.ExportFormat.Svg);">.svg</button>
                <button href="#" onclick="MakerJsPlayground.downloadClick(this, MakerJsPlaygroundExport.ExportFormat.Json);">json</button>
                <button href="#" onclick="MakerJsPlayground.downloadClick(this, MakerJsPlaygroundExport.ExportFormat.OpenJsCad);">openjscad</button>
                <button href="#" onclick="MakerJsPlayground.downloadClick(this, MakerJsPlaygroundExport.ExportFormat.Stl);">.stl</button>
                <button href="#" onclick="MakerJsPlayground.downloadClick(this, MakerJsPlaygroundExport.ExportFormat.Pdf);">.pdf</button>
            </div>

            <div id="download-generating">
                <h2>Generating your customized drawing...</h2>

                <button onclick="MakerJsPlayground.cancelExport()">cancel</button>
                <div id="download-progress"></div>
            </div>

            <div id="download-ready">
                <h2>Your customized drawing file is ready for download</h2>

                <span id="download-link-container"></span>
                <span>
                    <button class="close" onclick="MakerJsPlayground.toggleClass('download-ready')">close</button>
                </span>
                <div id="download-preview-container">
                    <textarea id="download-preview" rows="8" readonly></textarea>
                </div>
                <div class="onscreen-help">
                    If your browser does not support the download button above, <button onclick="MakerJsPlayground.copyToClipboard()">copy the text above</button> and paste into a new text file named <b id="download-filename">myfile.txt</b> on your computer.
                </div>
            </div>

        </section>

        <section class="editor">
            <div>
                <div class="code-header">
                    <span>
                        JavaScript code editor
                        <button class="side-by-side" onclick="MakerJsPlayground.toggleClassAndResize('side-by-side');"><span class="dock">dock</span><span class="undock">undock</span></button>
                    </span>
                    <button class="run" onclick="MakerJsPlayground.runCodeFromEditor()">&nbsp;&#x25BA; Run&nbsp;</button>
                    <span class="status"></span>
                </div>

                <a name="code"></a>

                <pre id="init-javascript-code">
var makerjs = require('makerjs');
this.models = {
    head: new makerjs.models.Ellipse([0, 0], 100, 50),
box: new makerjs.models.Ellipse([0, 0], 100, 50)
};
this.models.box.origin = [50,25];
makerjs.model.originate(this.models.box);

makerjs.model.combine(this.models.head, this.models.box, true, true, true, true, {trimDeadEnds: false});
//this.models.x = makerjs.model.expandPaths(this, 5);
this.models.x = makerjs.path.expand(this.models["head"].paths["Curve7"], 5);
/*
                    this.models = {
    head: new makerjs.models.Ellipse([0, 0], 100, 50),
box: new makerjs.models.Square(75)
};
makerjs.model.combineUnion(this.models.head, this.models.box);
*/
</pre>
            </div>
        </section>

        <div class="scroll-nav-links">
            <span>jump to</span>
            <span><a href="#code" onclick="document.querySelector('a[name=code]').scrollIntoView();return false;">code</a></span>
            <span><a href="#top" onclick="document.querySelector('a[name=top]').scrollIntoView();return false;">top</a></span>
        </div>

        <footer>
            <a href="https://github.com/Microsoft"><img src="microsoft.png" height="16" /> Open source, from Microsoft with love.</a> <a href="http://aka.ms/privacy">Privacy Statement</a> &copy;2016&nbsp;Microsoft
        </footer>

    </main>

</body>
</html>
